155 => data.bpm;   (60.0/data.bpm)::second => data.tick;

50 => data.ref_note;

while(1) {
       100::ms => now;
}
 
